---
description: Pesquisa multi-fonte com validação cruzada (>=95% accuracy)
agent: apex-researcher
subtask: true
---

## Universal Description

**DOCKER MCP GATEWAY RESEARCH ORCHESTRATION** - Multi-droid parallel execution with Docker MCP Gateway integration, delivering comprehensive research intelligence through coordinated droid ecosystem. ≥95% cross-validation accuracy with Brazilian LGPD compliance auto-activation via Docker MCP stack.

## Purpose

Execute comprehensive research operations through Docker MCP Gateway orchestration with atomic task generation, parallel execution capabilities, and integrated MCP stack (serena, context7, tavily, sequential-thinking, neon, playwright, fetch) for authoritative multi-source validation and actionable intelligence with Brazilian LGPD compliance for education/health sectors.

## Enhanced Research Orchestration System

### Atomic Task Generation Engine

```yaml
task_generation:
  complexity_assessment: "L1-L10 automatic scoring based on topic, scope, requirements"
  atomic_decomposition: "Break research into smallest executable units"
  dependency_mapping: "Identify parallel vs sequential task relationships"
  time_estimation: "Realistic duration estimates per task complexity"
  droid_assignment: "Optimal droid combinations based on task requirements"
  skill_integration: "Automatic skill invocation for domain-specific needs"

parallel_execution_matrix:
  phase_1_discovery:
    - apex-researcher (primary coordination)
    - domain_specialist_droids (parallel)
    - relevant_skills (context invocation)

  phase_2_analysis:
    - multiple_droids (simultaneous analysis)
    - skill_validation (specialized frameworks)
    - cross_validation (multi-source verification)

  phase_3_synthesis:
    - apex-researcher (consolidation)
    - code-reviewer (security validation)
    - brazilian_compliance_skills (LGPD/education validation)
```

### Dynamic Droid Coordination

```yaml
routing_algorithm:
  research_complexity: "Automatic L1-L10 scoring"
  brazilian_compliance: "Auto-activation for financial/regulatory topics"
  security_sensitivity: "Enhanced validation for sensitive research"
  domain_expertise: "Specialist droid assignment based on research domain"
  parallel_optimization: "Maximum concurrent task execution"

droid_expertise_matrix:
  apex-researcher: "Research coordination, synthesis, ≥95% validation"
  database-specialist: "Database architecture, Neon/Drizzle, LGPD compliance"
  apex-dev: "Implementation feasibility, performance analysis"
  code-reviewer: "Security validation, compliance checking"
  apex-ui-ux-designer: "Interface research, accessibility standards"
  product-architect: "Market analysis, competitive research"
```

### Skill Integration System

```yaml
skill_mapping:
  education-lgpd-compliance: "Auto-activated for LGPD/student data protection research"
  health-aesthetics-research: "Auto-activated for health aesthetics education research"
  crm-student-management: "Auto-activated for CRM and student lifecycle research"
  product-management: "Invoked for market analysis, competitive research"
  frontend-design: "UI/UX research, accessibility standards"
  ai-data-analyst: "Statistical analysis, data interpretation"
  webapp-testing: "Testing methodologies, quality assurance"

integration_points:
  research_phase: "Skills provide domain-specific expertise"
  analysis_phase: "Skills offer specialized validation frameworks"
  documentation_phase: "Skills generate standardized outputs"
  compliance_phase: "Brazilian compliance skills auto-activated"
```

## Automatic Enhanced Research Routing

```yaml
command_execution:
  trigger: "/research | /pesquisar"
  routing: "Enhanced orchestration with multi-droid coordination"
  atomic_tasks: "Automatic generation with parallel execution planning"
  skill_integration: "Domain-specific skill invocation"
  output_format: "Structured markdown in .factory/docs/ with executive summaries"

input_parsing:
  goal: "Extract from research objective description"
  scope: "Technology, domain, or regulatory area"
  complexity: "L1-L10 research depth assessment"
  brazilian_focus: "LGPD/education/health requirements auto-detection"
  parallel_potential: "Automatic identification of parallelizable tasks"
  education_triggers: "aluno, matrícula, curso, turma, saúde estética"
  compliance_triggers: "LGPD, consentimento, proteção de dados, cpf"

quality_assurance:
  accuracy_threshold: "≥95% cross-validation required"
  multi_droid_validation: "Minimum 3 droids for critical findings"
  brazilian_compliance: "Mandatory for financial/regulatory research"
  confidence_scoring: "Explicit confidence levels with source validation"
  documentation_standards: "Consistent markdown templates"
```

## Docker MCP Gateway Integration

### Available MCP Stack
- **serena** (direct) - Codebase intelligence & project management
- **context7** (via MCP_DOCKER) - Documentation intelligence & official docs
- **tavily** (via MCP_DOCKER) - Web research & community validation
- **sequential-thinking** (via MCP_DOCKER) - Multi-perspective synthesis & analysis
- **neon** (via MCP_DOCKER) - PostgreSQL database operations
- **playwright** (via MCP_DOCKER) - Browser automation & testing
- **fetch** (via MCP_DOCKER) - URL content retrieval & web scraping

### MCP Routing via Docker Gateway
- **Research Operations**: Topic investigation, technology evaluation → Context7 + Tavily (via Docker)
- **Knowledge Management**: Knowledge base creation, organization → Serena + Sequential Thinking (via Docker)
- **Database Research**: Schema analysis, performance optimization → Serena + Neon (via Docker)
- **Web Intelligence**: Real-time data, regulatory updates → Tavily + Fetch (via Docker)
- **Brazilian Compliance**: LGPD/education/health research → Context7 + Tavily + Sequential Thinking (via Docker)
- **Testing & Validation**: Accessibility, performance → Playwright + Serena (via Docker)

## MCP Serena: Codebase Intelligence

### Core Capabilities
- **Symbol Resolution**: `find_symbol` - Function/class/interface discovery
- **Reference Analysis**: `find_referencing_symbols` - Code relationships mapping
- **Pattern Search**: `search_for_pattern` - Implementation pattern discovery
- **Code Overview**: `get_symbols_overview` - High-level code structure analysis

### Usage Patterns
```yaml
code_analysis:
  symbol_resolution: "Function/class/interface discovery"
  pattern_analysis: "Existing implementation patterns"
  dependency_mapping: "Code relationships + imports"
  architecture_insights: "Current system structure"

implementation_feasibility:
  compatibility_check: "Integration with existing codebase"
  pattern_alignment: "Consistency with current architecture"
  effort_estimation: "Implementation complexity assessment"
```

### Memory Management
- Creates persistent knowledge memories for project insights
- Stores architectural patterns and implementation decisions
- Enables cross-session context preservation
- Supports research-to-implementation knowledge transfer

## MCP Orchestration Workflow

### Docker MCP Multi-Execution Strategy
```yaml
parallel_execution:
  phase_1_discovery:
    context7: "Official documentation + API references (via Docker)"
    tavily: "Web research + community validation (via Docker)"
    serena: "Codebase analysis + symbol resolution"
    fetch: "Real-time regulatory data (via Docker)"

  phase_2_analysis:
    sequential_thinking: "Multi-perspective synthesis + logical reasoning (via Docker)"
    context7: "Deep dive into technical specifics (via Docker)"
    tavily: "Cross-source verification + credibility assessment (via Docker)"
    neon: "Database compliance validation (via Docker)"

  phase_3_validation:
    serena: "Implementation feasibility analysis"
    sequential_thinking: "Pattern recognition + gap identification (via Docker)"
    playwright: "Accessibility & testing validation (via Docker)"
    all_mcps: "Cross-validation for ≥95% accuracy through Docker Gateway"
```

### Docker MCP Performance Optimization
- **Target Latency**: <3ms via Docker Gateway
- **Context Management**: Automatic deduplication via Docker
- **Parallel Execution**: Optimized concurrent MCP calls
- **Resource Isolation**: Built-in Docker container security

## Docker MCP Atomic Task Assignment Matrix

### L1-L3 (Simple Research) - 15-30 min
```yaml
atomic_tasks:
  task_1_basic_research:
    primary_agent: "apex-researcher"
    support_agents: []
    skills: []
    mcps: ["context7", "serena"]
    brazilian_compliance: "basic_check"
    deliverable: "Quick research summary (≤2 pages)"

  task_2_codebase_validation:
    primary_agent: "apex-dev"
    support_agents: []
    skills: []
    mcps: ["serena"]
    brazilian_compliance: "basic_check"
    deliverable: "Implementation feasibility note"
```

### L4-L6 (Moderate Research) - 45-90 min
```yaml
atomic_tasks:
  task_1_comprehensive_research:
    primary_agent: "apex-researcher"
    support_agents: ["apex-dev"]
    skills: ["education-lgpd-compliance"]
    mcps: ["context7", "tavily", "serena", "fetch"]
    brazilian_compliance: "full_validation"
    deliverable: "Research analysis (≤5 pages)"

  task_2_feasibility_analysis:
    primary_agent: "apex-dev"
    support_agents: ["database-specialist"]
    skills: []
    mcps: ["serena", "neon"]
    brazilian_compliance: "compliance_check"
    deliverable: "Implementation roadmap"

  task_3_security_validation:
    primary_agent: "code-reviewer"
    support_agents: []
    skills: ["webapp-testing"]
    mcps: ["context7", "tavily"]
    brazilian_compliance: "full_validation"
    deliverable: "Security assessment report"
```

### L7-L8 (Complex Research) - 2-4 hours
```yaml
atomic_tasks:
  task_1_regulatory_deep_dive:
    primary_agent: "apex-researcher"
    support_agents: ["code-reviewer", "database-specialist"]
    skills: ["education-lgpd-compliance", "webapp-testing"]
    mcps: ["context7", "tavily", "serena", "fetch", "sequential-thinking"]
    brazilian_compliance: "expert_validation"
    deliverable: "Regulatory compliance document (≤8 pages)"

  task_2_architecture_analysis:
    primary_agent: "apex-dev"
    support_agents: ["database-specialist"]
    skills: ["aegis-architect"]
    mcps: ["serena", "neon", "context7"]
    brazilian_compliance: "compliance_check"
    deliverable: "System architecture blueprint"

  task_3_database_compliance:
    primary_agent: "database-specialist"
    support_agents: ["code-reviewer"]
    skills: ["education-lgpd-compliance"]
    mcps: ["serena", "neon", "context7"]
    brazilian_compliance: "lgpd_expert_validation"
    deliverable: "Database compliance matrix"

  task_4_ui_ux_validation:
    primary_agent: "apex-ui-ux-designer"
    support_agents: ["code-reviewer"]
    skills: ["webapp-testing"]
    mcps: ["serena", "context7", "playwright"]
    brazilian_compliance: "wcag_aa_plus_validation"
    deliverable: "Accessibility audit report"

  task_5_integration_testing:
    primary_agent: "apex-dev"
    support_agents: ["apex-ui-ux-designer"]
    skills: ["webapp-testing"]
    mcps: ["serena", "playwright", "neon"]
    brazilian_compliance: "end_to_end_validation"
    deliverable: "Integration test plan"
```

### L9-L10 (Mission-Critical) - 4-8 hours
```yaml
atomic_tasks:
  task_1_strategic_research:
    primary_agent: "apex-researcher"
    support_agents: ["product-architect", "code-reviewer"]
    skills: ["education-lgpd-compliance", "product-management"]
    mcps: ["context7", "tavily", "serena", "fetch", "sequential-thinking"]
    brazilian_compliance: "mission_critical_validation"
    deliverable: "Strategic research intelligence (≤12 pages)"

  task_2_system_architecture:
    primary_agent: "apex-dev"
    support_agents: ["database-specialist", "apex-ui-ux-designer"]
    skills: ["aegis-architect", "ai-data-analyst"]
    mcps: ["serena", "neon", "context7", "playwright"]
    brazilian_compliance: "comprehensive_validation"
    deliverable: "Production-ready architecture spec"

  task_3_security_compliance:
    primary_agent: "code-reviewer"
    support_agents: ["database-specialist", "apex-researcher"]
    skills: ["webapp-testing", "education-lgpd-compliance"]
    mcps: ["context7", "tavily", "serena", "fetch"]
    brazilian_compliance: "penetration_testing_validation"
    deliverable: "Security compliance certification"

  task_4_database_operations:
    primary_agent: "database-specialist"
    support_agents: ["apex-dev", "code-reviewer"]
    skills: ["education-lgpd-compliance"]
    mcps: ["serena", "neon", "context7", "fetch"]
    brazilian_compliance: "data_governance_validation"
    deliverable: "Database operations manual"

  task_5_user_experience:
    primary_agent: "apex-ui-ux-designer"
    support_agents: ["apex-researcher"]
    skills: ["webapp-testing", "education-lgpd-compliance"]
    mcps: ["serena", "context7", "playwright", "fetch"]
    brazilian_compliance: "user_testing_validation"
    deliverable: "UX research & testing report"

  task_6_product_strategy:
    primary_agent: "product-architect"
    support_agents: ["apex-researcher"]
    skills: ["product-management", "education-lgpd-compliance"]
    mcps: ["serena", "sequential-thinking", "tavily"]
    brazilian_compliance: "market_validation"
    deliverable: "Product strategy & roadmap"

  task_7_implementation_roadmap:
    primary_agent: "apex-dev"
    support_agents: ["database-specialist", "apex-ui-ux-designer"]
    skills: ["ai-data-analyst"]
    mcps: ["serena", "neon", "context7", "playwright"]
    brazilian_compliance: "milestone_validation"
    deliverable: "Detailed implementation roadmap"
```

## Brazilian Compliance Skill Matrix

### Automatic Skill Activation by Research Type
```yaml
education_lgpd_compliance:
  triggers: ["LGPD", "aluno", "matrícula", "cpf", "consentimento", "proteção de dados"]
  agents: ["apex-researcher", "code-reviewer", "database-specialist"]
  validation_level: "Expert (≥95% accuracy)"

health_aesthetics_research:
  triggers: ["saúde estética", "estética", "ANVISA", "certificação profissional", "empreendedor estética"]
  agents: ["apex-researcher", "apex-ui-ux-designer"]
  validation_level: "Expert (≥95% accuracy)"

crm_student_management:
  triggers: ["CRM", "pipeline", "lead", "aluno", "gestão", "SDR", "chat integrado"]
  agents: ["apex-researcher", "database-specialist", "apex-dev"]
  validation_level: "Expert (≥95% accuracy)"

webapp_testing:
  triggers: ["testing", "validation", "accessibility", "performance"]
  agents: ["apex-ui-ux-designer", "code-reviewer", "apex-dev"]
  validation_level: "WCAG 2.1 AA+ + Brazilian standards"

product_management:
  triggers: ["market", "competitive", "roadmap", "strategy"]
  agents: ["apex-researcher", "product-architect"]
  validation_level: "Market research (≥90% accuracy)"

ai_data_analyst:
  triggers: ["statistics", "metrics", "performance", "analytics"]
  agents: ["apex-dev", "database-specialist"]
  validation_level: "Data analysis (≥85% accuracy)"
```

## Parallel Execution Coordination

### Phase-Based Task Scheduling
```yaml
phase_1_discovery (parallel):
  - apex-researcher: [context7, tavily, fetch]
  - database-specialist: [serena, neon] (if database scope)
  - code-reviewer: [context7] (if security scope)

phase_2_analysis (parallel):
  - apex-dev: [serena, context7, neon, playwright]
  - apex-ui-ux-designer: [serena, context7, playwright] (if UI scope)
  - product-architect: [sequential-thinking, serena] (if strategy scope)

phase_3_validation (parallel):
  - code-reviewer: [context7, tavily, fetch]
  - database-specialist: [serena, neon] (if database validation)
  - apex-ui-ux-designer: [playwright, serena] (if UI validation)
```

## Docker MCP Research Deliverables

### Research Intelligence Report (via Docker MCP)
- **Executive Summary**: Research scope, complexity, Brazilian compliance status
- **MCP Performance**: Docker Gateway latency (<3ms target), efficiency metrics
- **Validation Results**: ≥95% cross-source validation via multiple MCPs
- **Implementation Roadmap**: Technical feasibility with Docker-optimized patterns
- **Brazilian Compliance**: LGPD/education/health validation through official docs (context7) + current patterns (tavily)

### Quality Assurance via Docker MCP
- **Source Validation**: Context7 (official docs) + Tavily (community validation)
- **Code Analysis**: Serena symbol resolution + pattern analysis
- **Database Compliance**: Neon PostgreSQL validation + security checks
- **Testing Validation**: Playwright accessibility + performance testing

## Quick Reference Templates

### Auto-Activation Protocol
```yaml
triggers: ["/research", "/pesquisar", "spec - research"]
routing: "Docker MCP Gateway orchestration"
mcp_stack: ["context7", "tavily", "sequential-thinking", "neon", "playwright", "fetch"]
quality_gate: "≥95% cross-validation"
target_latency: "<3ms"
brazilian_compliance: "Mandatory"
```

### Example Usage
```
/research "LGPD compliance para gestão de alunos"

→ Docker MCP execution:
- Context7: LGPD official documentation for education
- Tavily: Current student data protection implementations
- Serena: Existing Convex schema patterns for students
- Sequential-thinking: Multi-perspective compliance analysis
- Neon: PostgreSQL student data validation patterns
- Output: .factory/docs/2025-12-13-lgpd-aluno-compliance.md
```

### Education CRM Example
```
/research "CRM pipeline para cursos de estética"

→ Docker MCP execution:
- education-lgpd-compliance: Activated for student CRM patterns
- context7: Research educational CRM best practices
- tavily: Analyze current market implementations
- serena: Review existing Convex lead/student schemas
- sequential-thinking: Multi-perspective pipeline optimization
- Output: .factory/docs/2025-12-13-crm-estetica-pipeline.md
```
