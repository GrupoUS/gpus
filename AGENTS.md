# Portal Grupo US - AI Agent Guide

## Project Snapshot

**Type:** Single-project React application  
**Stack:** React 19 + Vite + TanStack Router + shadcn/ui + Convex + Clerk  
**Purpose:** CRM and student management portal for health aesthetics education business  
**Note:** Sub-directories have their own AGENTS.md files with detailed patterns

---

## Root Setup Commands

```bash
# Install dependencies
bun install

# Development (runs Convex + Vite concurrently)
bun run dev

# Type checking
bun run build  # Includes tsc --noEmit

# Linting & formatting
bun run lint        # Auto-fix with Biome
bun run lint:check  # Check only

# Testing
bun run test              # Run all tests
bun run test:watch        # Watch mode
bun run test:coverage     # With coverage
```

---

## Universal Conventions

**Code Style:**
- TypeScript strict mode enabled
- Biome for linting/formatting (tabs, single quotes, semicolons)
- No `any` types (enforced by Biome)
- Functional components only (no classes)

**Commit Format:**
- Use Conventional Commits (e.g., `feat:`, `fix:`, `docs:`)

**Branch Strategy:**
- `main` branch for production
- Feature branches: `feature/description`

**PR Requirements:**
- All tests passing (`bun run test`)
- No linting errors (`bun run lint:check`)
- Type checking passes (`bun run build`)

---

## Security & Secrets

- **Never commit:** API keys, tokens, or credentials
- **Environment variables:** Use `.env.local` (gitignored)
- **Required vars:** `VITE_CLERK_PUBLISHABLE_KEY`, `VITE_CONVEX_URL`
- **PII handling:** User data stored in Convex with Clerk auth

---

## JIT Index - Directory Map

### Package Structure
- **Frontend app:** `src/` → [see src/AGENTS.md](src/AGENTS.md)
- **Backend (Convex):** `convex/` → [see convex/AGENTS.md](convex/AGENTS.md)
- **UI Components:** `src/components/` → [see src/components/AGENTS.md](src/components/AGENTS.md)
- **Routes/Pages:** `src/routes/` → [see src/routes/AGENTS.md](src/routes/AGENTS.md)
- **Hooks:** `src/hooks/` → [see src/hooks/AGENTS.md](src/hooks/AGENTS.md)
- **Utilities:** `src/lib/` → [see src/lib/AGENTS.md](src/lib/AGENTS.md)
- **Documentation:** `docs/` → PRD, tech stack, setup guides

### Quick Find Commands

```bash
# Find a component
rg -n "export.*function.*ComponentName" src/components

# Find a route
rg -n "createFileRoute" src/routes

# Find a Convex function
rg -n "export const" convex/

# Find a hook
rg -n "export.*use[A-Z]" src/hooks

# Find type definitions
rg -n "interface|type.*=" src/
```

---

## Definition of Done

Before creating a PR:
- [ ] All tests pass (`bun run test`)
- [ ] No linting errors (`bun run lint:check`)
- [ ] Type checking passes (`bun run build`)
- [ ] Code formatted (`bun run lint`)
- [ ] No console errors in browser
- [ ] Responsive design tested (mobile + desktop)

---

## Quick Reference

| Task | Command |
|------|---------|
| Add shadcn component | `bunx shadcn@latest add [component]` |
| Deploy Convex | `bunx convex deploy` |
| Generate route types | Auto-generated by TanStack Router plugin |
| View Convex dashboard | `bunx convex dashboard` |

**For detailed patterns, see sub-directory AGENTS.md files.**
