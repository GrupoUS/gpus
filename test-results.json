$ vitest --coverage

[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mD:/gpus[39m
      [2mCoverage enabled with [22m[33mistanbul[39m

 [32mâœ“[39m src/example.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/integration/asaas-sync.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m convex/lgpd.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/lib/utils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstderr[2m | convex/lib/encryption.test.ts[2m > [22m[2mEncryption Utilities (LGPD Compliance)[2m > [22m[2mshould throw error if ENCRYPTION_KEY is missing
[22m[39mEncryption error: Error: ENCRYPTION_KEY environment variable is required for LGPD compliance
    at getEncryptionKey (D:/gpus/convex/lib/encryption.ts:51:3)
    at getEncryptionKey (D:/gpus/convex/lib/encryption.ts:48:16)
    at encrypt (D:/gpus/convex/lib/encryption.ts:82:21)
    at encrypt (D:/gpus/convex/lib/encryption.ts:78:23)
    at D:/gpus/convex/lib/encryption.test.ts:64:18
    at D:/gpus/convex/lib/encryption.test.ts:62:57
    at [90mD:\gpus\[39mnode_modules\[4m@vitest[24m\runner\dist\index.js:915:25
    at [90mD:\gpus\[39mnode_modules\[4m@vitest[24m\runner\dist\index.js:914:9
    at [90mD:\gpus\[39mnode_modules\[4m@vitest[24m\runner\dist\index.js:1243:19
    at Promise (native)
    at runWithTimeout [90m(D:\gpus\[39mnode_modules\[4m@vitest[24m\runner\dist\index.js:1209:9[90m)[39m
    at runTest [90m(D:\gpus\[39mnode_modules\[4m@vitest[24m\runner\dist\index.js:1653:11[90m)[39m
    at processTicksAndRejections (native)

 [32mâœ“[39m convex/lib/encryption.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m src/lib/xlsx-helper.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 77[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/theme-provider.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[32m 96[2mms[22m[39m
 [32mâœ“[39m src/hooks/use-students-view-model.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m src/components/ui/__tests__/form.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 137[2mms[22m[39m
 [32mâœ“[39m src/components/__tests__/theme-toggle.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 332[2mms[22m[39m
 [32mâœ“[39m src/components/crm/pipeline-kanban.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 159[2mms[22m[39m
[90mstderr[2m | src/components/crm/lead-form.test.tsx[2m > [22m[2mLeadForm[2m > [22m[2mopens the dialog when clicked
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/crm/lead-form.test.tsx[2m > [22m[2mLeadForm[2m > [22m[2mvalidates required fields
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/crm/lead-form.test.tsx[2m > [22m[2mLeadForm[2m > [22m[2msubmits valid form data
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/crm/lead-form.test.tsx[2m > [22m[2mLeadForm[2m > [22m[2mhandles optional clinic fields
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

[90mstderr[2m | src/components/crm/lead-form.test.tsx[2m > [22m[2mLeadForm[2m > [22m[2mhandles submission error
[22m[39mWarning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 [32mâœ“[39m src/components/crm/lead-form.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 4037[2mms[22m[39m
     [33m[2mâœ“[22m[39m opens the dialog when clicked [33m 494[2mms[22m[39m
     [33m[2mâœ“[22m[39m validates required fields [33m 429[2mms[22m[39m
     [33m[2mâœ“[22m[39m submits valid form data [33m 887[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles optional clinic fields [33m 1320[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles submission error [33m 858[2mms[22m[39m

[2m Test Files [22m [1m[32m12 passed[39m[22m[90m (12)[39m
[2m      Tests [22m [1m[32m101 passed[39m[22m[90m (101)[39m
[2m   Start at [22m 17:23:27
[2m   Duration [22m 38.31s[2m (transform 6.52s, setup 45.71s, import 32.11s, tests 5.03s, environment 286.11s)[22m

[34m % [39m[2mCoverage report from [22m[33mistanbul[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   65.84 |    52.48 |   66.35 |   68.09 |                   
 convex            |     100 |       90 |     100 |     100 |                   
  lgpd.ts          |     100 |       90 |     100 |     100 | 36                
 convex/_generated |     100 |      100 |     100 |     100 |                   
  api.js           |     100 |      100 |     100 |     100 |                   
 convex/lib        |   73.33 |    59.72 |   86.66 |   77.06 |                   
  encryption.ts    |   65.85 |    41.66 |   84.61 |   70.66 | ...80-184,211-248 
  validators.ts    |   89.47 |    77.77 |     100 |   91.17 | 15,35,96          
 src/components    |   94.73 |     87.5 |   88.88 |   97.22 |                   
  ...-provider.tsx |    93.1 |    81.25 |   83.33 |   96.42 | 18                
  theme-toggle.tsx |     100 |      100 |     100 |     100 |                   
 ...components/crm |   72.04 |    55.69 |   73.17 |   73.03 |                   
  lead-card.tsx    |   77.77 |    55.55 |      50 |   77.77 | 112-124           
  lead-form.tsx    |   96.96 |    66.66 |     100 |   96.87 | 166               
  ...ne-kanban.tsx |    54.9 |    42.85 |      55 |   56.25 | ...71-274,284-286 
 src/components/ui |    86.2 |    70.49 |   68.85 |   86.56 |                   
  avatar.tsx       |   88.88 |      100 |   66.66 |   88.88 | 24                
  badge.tsx        |     100 |      100 |     100 |     100 |                   
  button.tsx       |     100 |    66.66 |     100 |     100 | 42                
  card.tsx         |   88.88 |    33.33 |   66.66 |   88.88 | 44,58             
  checkbox.tsx     |     100 |      100 |     100 |     100 |                   
  dialog.tsx       |    90.9 |      100 |   66.66 |    90.9 | 60,83             
  flip-button.tsx  |   76.19 |      100 |      50 |   76.19 | 21,35-38          
  form.tsx         |   94.87 |    78.57 |     100 |   94.87 | 48,52             
  ...-gradient.tsx |   57.89 |    45.45 |    37.5 |   58.82 | 33-38,58,67-69    
  input.tsx        |   72.72 |    58.33 |      60 |   72.72 | 18,29-31,35-36    
  label.tsx        |     100 |      100 |     100 |     100 |                   
  radio-group.tsx  |     100 |      100 |     100 |     100 |                   
  scroll-area.tsx  |     100 |       80 |     100 |     100 | 34                
  select.tsx       |   91.66 |      100 |   71.42 |   91.66 | 99,133            
  textarea.tsx     |     100 |      100 |     100 |     100 |                   
 src/hooks         |     100 |    91.17 |     100 |     100 |                   
  ...view-model.ts |     100 |    91.17 |     100 |     100 | 43-45             
 src/lib           |   43.38 |    36.97 |   39.68 |   44.18 |                   
  csv-validator.ts |    6.38 |        0 |       0 |    7.45 | ...10-645,679-722 
  ...telligence.ts |   58.06 |    49.29 |   63.63 |   54.28 | 149-237           
  motion-config.ts |   64.28 |      100 |       0 |   64.28 | 165-172           
  utils.ts         |     100 |      100 |     100 |     100 |                   
  xlsx-helper.ts   |   90.17 |    80.45 |     100 |   93.87 | 274,355,362-376   
-------------------|---------|----------|---------|---------|-------------------
