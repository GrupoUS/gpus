# Command: /research | /pesquisar

## Universal Description

**ENHANCED RESEARCH ORCHESTRATION SYSTEM** - Multi-droid parallel execution with atomic task generation, delivering comprehensive research intelligence through coordinated droid ecosystem and skill integration. ≥95% cross-validation accuracy with Brazilian compliance auto-activation.

## Purpose

Execute comprehensive research operations through intelligent droid orchestration with atomic task generation, parallel execution capabilities, and skill integration for authoritative multi-source validation and actionable intelligence with Brazilian compliance.

## Enhanced Research Orchestration System

### Atomic Task Generation Engine

```yaml
task_generation:
  complexity_assessment: "L1-L10 automatic scoring based on topic, scope, requirements"
  atomic_decomposition: "Break research into smallest executable units"
  dependency_mapping: "Identify parallel vs sequential task relationships"
  time_estimation: "Realistic duration estimates per task complexity"
  droid_assignment: "Optimal droid combinations based on task requirements"
  skill_integration: "Automatic skill invocation for domain-specific needs"

parallel_execution_matrix:
  phase_1_discovery:
    - apex-researcher (primary coordination)
    - domain_specialist_droids (parallel)
    - relevant_skills (context invocation)

  phase_2_analysis:
    - multiple_droids (simultaneous analysis)
    - skill_validation (specialized frameworks)
    - cross_validation (multi-source verification)

  phase_3_synthesis:
    - apex-researcher (consolidation)
    - code-reviewer (security validation)
    - brazilian_compliance_skills (LGPD/PIX validation)
```

### Dynamic Droid Coordination

```yaml
routing_algorithm:
  research_complexity: "Automatic L1-L10 scoring"
  brazilian_compliance: "Auto-activation for financial/regulatory topics"
  security_sensitivity: "Enhanced validation for sensitive research"
  domain_expertise: "Specialist droid assignment based on research domain"
  parallel_optimization: "Maximum concurrent task execution"

droid_expertise_matrix:
  apex-researcher: "Research coordination, synthesis, ≥95% validation"
  database-specialist: "Database architecture, Neon/Drizzle, LGPD compliance"
  apex-dev: "Implementation feasibility, performance analysis"
  code-reviewer: "Security validation, compliance checking"
  apex-ui-ux-designer: "Interface research, accessibility standards"
  product-architect: "Market analysis, competitive research"
```

### Skill Integration System

```yaml
skill_mapping:
  brazilian-fintech-compliance: "Auto-activated for financial/PIX/LGPD research"
  product-management: "Invoked for market analysis, competitive research"
  frontend-design: "UI/UX research, accessibility standards"
  ai-data-analyst: "Statistical analysis, data interpretation"
  webapp-testing: "Testing methodologies, quality assurance"

integration_points:
  research_phase: "Skills provide domain-specific expertise"
  analysis_phase: "Skills offer specialized validation frameworks"
  documentation_phase: "Skills generate standardized outputs"
  compliance_phase: "Brazilian compliance skills auto-activated"
```

## Automatic Enhanced Research Routing

```yaml
command_execution:
  trigger: "/research | /pesquisar"
  routing: "Enhanced orchestration with multi-droid coordination"
  atomic_tasks: "Automatic generation with parallel execution planning"
  skill_integration: "Domain-specific skill invocation"
  output_format: "Structured markdown in .factory/docs/ with executive summaries"

input_parsing:
  goal: "Extract from research objective description"
  scope: "Technology, domain, or regulatory area"
  complexity: "L1-L10 research depth assessment"
  brazilian_focus: "LGPD/BCB/PIX requirements auto-detection"
  parallel_potential: "Automatic identification of parallelizable tasks"

quality_assurance:
  accuracy_threshold: "≥95% cross-validation required"
  multi_droid_validation: "Minimum 3 droids for critical findings"
  brazilian_compliance: "Mandatory for financial/regulatory research"
  confidence_scoring: "Explicit confidence levels with source validation"
  documentation_standards: "Consistent markdown templates"
```

## Context Detection & MCP Routing

- **Research Operations**: Topic investigation, technology evaluation → Context7 + Tavily
- **Knowledge Management**: Knowledge base creation, organization → Serena + Sequential Thinking
- **Intelligence Synthesis**: Multi-source validation → All MCPs parallel
- **Brazilian Compliance**: LGPD/BCB/PIX research → Tavily + Context7 + Sequential Thinking
- **Technology Research**: Framework comparison, patterns → Context7 + Tavily

## MCP Serena: Codebase Intelligence

### Core Capabilities
- **Symbol Resolution**: `find_symbol` - Function/class/interface discovery
- **Reference Analysis**: `find_referencing_symbols` - Code relationships mapping
- **Pattern Search**: `search_for_pattern` - Implementation pattern discovery
- **Code Overview**: `get_symbols_overview` - High-level code structure analysis

### Usage Patterns
```yaml
code_analysis:
  symbol_resolution: "Function/class/interface discovery"
  pattern_analysis: "Existing implementation patterns"
  dependency_mapping: "Code relationships + imports"
  architecture_insights: "Current system structure"

implementation_feasibility:
  compatibility_check: "Integration with existing codebase"
  pattern_alignment: "Consistency with current architecture"
  effort_estimation: "Implementation complexity assessment"
```

### Memory Management
- Creates persistent knowledge memories for project insights
- Stores architectural patterns and implementation decisions
- Enables cross-session context preservation
- Supports research-to-implementation knowledge transfer

## MCP Orchestration Workflow

### Multi-MCP Execution Strategy
```yaml
parallel_execution:
  phase_1_discovery:
    context7: "Official documentation + API references"
    tavily: "Web research + community validation"
    serena: "Codebase analysis + symbol resolution"

  phase_2_analysis:
    sequential_thinking: "Multi-perspective synthesis + logical reasoning"
    context7: "Deep dive into technical specifics"
    tavily: "Cross-source verification + credibility assessment"

  phase_3_validation:
    serena: "Implementation feasibility analysis"
    sequential_thinking: "Pattern recognition + gap identification"
    all_mcps: "Cross-validation for ≥95% accuracy"
```

### Context7 (Documentation Intelligence)
- Framework docs and best practices
- Brazilian LGPD/BCB compliance documentation
- Security guidelines and requirements
- Installation and configuration patterns

### Tavily (Web Intelligence)
- Multi-source information gathering
- Community best practices validation
- Real-world implementation experiences
- Expert insights and tutorials

### Sequential Thinking (Cognitive Analysis)
- Multi-perspective analysis synthesis
- Pattern recognition and relationship mapping
- Brazilian compliance requirements assessment
- Logical reasoning and conclusion formation

## Atomic Task Templates

### Research Complexity Classification

```yaml
L1-L3 (Simple Research):
  estimated_time: "15-30 minutes"
  parallel_execution: "Limited - mostly sequential"
  droid_assignment: "apex-researcher + 1 specialist"
  skill_integration: "Basic domain skills"
  deliverables: "Quick summary with key findings"

L4-L6 (Moderate Research):
  estimated_time: "45-90 minutes"
  parallel_execution: "50% parallelizable"
  droid_assignment: "apex-researcher + 2-3 specialists"
  skill_integration: "Domain-specific skills activated"
  deliverables: "Comprehensive analysis with recommendations"

L7-L8 (Complex Research):
  estimated_time: "2-4 hours"
  parallel_execution: "70% parallelizable"
  droid_assignment: "apex-researcher + 3-4 specialists"
  skill_integration: "Multiple specialized skills"
  deliverables: "Detailed report with implementation roadmap"

L9-L10 (Mission-Critical Research):
  estimated_time: "4-8 hours"
  parallel_execution: "80% parallelizable"
  droid_assignment: "All relevant droids + coordination"
  skill_integration: "Full skill ecosystem activation"
  deliverables: "Strategic intelligence document with execution plan"
```

### Atomic Task Structure Template

```yaml
task_id: "research_[date]_[sequence]"
title: "Specific research task description"
complexity: "L1-L10"
estimated_duration: "X hours/minutes"
assigned_droids: ["primary", "secondary"]
required_skills: ["skill1", "skill2"]
parallel_execution: true/false
dependencies: ["task_id_dependencies"]
deliverables: ["specific_output_formats"]
quality_gates: ["validation_criteria"]
brazilian_compliance: true/false
confidence_target: "≥95%"

execution_phases:
  phase_1:
    description: "Research discovery"
    droids: ["parallel_execution_list"]
    duration: "X minutes"
    outputs: ["specific_deliverables"]

  phase_2:
    description: "Analysis and validation"
    droids: ["parallel_execution_list"]
    duration: "X minutes"
    outputs: ["specific_deliverables"]
```

## Enhanced Deliverables: Comprehensive Research Intelligence

### Executive Summary
- Research scope and complexity assessment
- Parallel execution efficiency report
- Multi-droid validation summary
- Brazilian compliance status
- Key recommendations with confidence scores
- Resource utilization metrics

### Atomic Task Execution Report
- **Task Decomposition**: Complete breakdown of research into atomic units
- **Parallel Execution Matrix**: Actual vs planned parallelization efficiency
- **Droid Performance**: Individual droid contributions and quality metrics
- **Skill Integration**: Activated skills and their impact on research quality
- **Time Analysis**: Planned vs actual execution times per task

### Multi-Droid Research Analysis
**apex-researcher**: Research coordination, synthesis, validation orchestration
**specialist droids**: Domain-specific expertise and deep analysis
**code-reviewer**: Security validation and compliance checking
**skill contributions**: Specialized domain knowledge and frameworks

### Implementation Intelligence Framework
- **Implementation Feasibility**: Technical viability assessment by apex-dev
- **Risk Matrix**: Comprehensive risk analysis with mitigation strategies
- **Resource Planning**: Detailed resource requirements and timelines
- **Brazilian Compliance**: Full LGPD/PIX/BCB compliance validation
- **Quality Assurance**: Multi-stage validation with specific test requirements

### Enhanced Execution Workflow
- **Atomic Task Roadmap**: Prioritized task list with dependencies
- **Multi-Droid Coordination Plan**: Optimal droid assignment and scheduling
- **Skill Integration Strategy**: When and how to invoke specialized skills
- **Quality Validation Gates**: Multi-stage quality assurance checkpoints
- **Documentation Standards**: Version-controlled, cross-referenced outputs

## Quality Gates

### Research Validation
- ≥95% cross-source validation required
- Minimum 3 authoritative sources
- Explicit confidence scoring
- Clear identification of research gaps

### Implementation Readiness
- Serena validated integration complexity
- Risk assessment with mitigation strategies
- Timeline and resource requirements
- Quality validation specifications

## Enhanced Command Usage Examples

### Technology Research (L7 Complexity)
```
/research "React Server Components best practices for Brazilian fintech applications"

→ Enhanced orchestration with atomic tasks:
- **Atomic Task Generation**: 8 parallelizable tasks identified
- **Droid Assignment**:
  - apex-researcher (coordination)
  - apex-dev (implementation feasibility)
  - code-reviewer (security validation)
- **Skill Integration**: frontend-design, webapp-testing
- **Parallel Execution**: 70% tasks run simultaneously
- **Output**:
  - Comprehensive implementation guide (.factory/docs/2025-XX-XX-react-server-components-research.md)
  - Atomic task execution roadmap
  - Security validation report
  - Brazilian compliance checklist
```

## Enhanced Research Activation Protocol

```yaml
trigger_detection:
  command_keywords: ["/research", "/pesquisar", "spec - research"]
  automatic_routing: "Enhanced orchestration with multi-droid coordination"
  priority_override: "HIGHEST - bypass all other routing"
  atomic_task_generation: "Immediate task decomposition and assignment"
  skill_integration: "Context-aware skill activation"

enhanced_quality_assurance:
  confidence_threshold: "≥95% before completion approval"
  multi_droid_validation: "Minimum 3 droids validate critical findings"
  source_validation: "Cross-source verification across droids and skills"
  brazilian_compliance: "Mandatory validation for all financial/regulatory topics"
  implementation_readiness: "Technical feasibility assessment by apex-dev"
  security_validation: "Comprehensive security review by code-reviewer"

enhanced_output_standards:
  format: "Comprehensive Research Intelligence Document with Atomic Task Execution Report"
  location: "Auto-generated in .factory/docs/ with timestamp and unique identifier"
  structure: "Executive summary + detailed analysis + implementation roadmap + validation reports"
  confidence_levels: "Explicit scoring with source attribution and validation chain"
  execution_workflow: "Detailed atomic task breakdown with parallel execution optimization"
  resource_utilization: "Droid and skill performance metrics and efficiency analysis"
  gap_identification: "Clear research limitations + follow-up task recommendations"
  version_control: "Git-friendly format with change tracking and cross-references"
```

## Documentation Template System

### Standard Research Output Structure

```markdown
# Research Intelligence: [Topic] - [Date]

## Executive Summary
- Research scope and complexity assessment
- Key findings with confidence scores
- Primary recommendations
- Brazilian compliance status
- Resource utilization summary

## Atomic Task Execution Report
### Task Decomposition
- Complete list of atomic tasks generated
- Parallel execution efficiency metrics
- Droid assignment and performance analysis

### Multi-Droid Coordination
- Droid collaboration matrix
- Cross-validation results
- Skill integration impact

## Detailed Research Analysis
### [Domain 1] Analysis
- Comprehensive domain-specific findings
- Source validation and attribution
- Confidence scoring methodology

### [Domain 2] Analysis
- [Continue for all relevant domains]

## Implementation Intelligence
### Technical Feasibility Assessment
- Implementation complexity analysis
- Resource requirements and timelines
- Risk matrix with mitigation strategies

### Brazilian Compliance Validation
- LGPD compliance checklist
- PIX/BCB regulatory requirements
- Accessibility standards validation

## Appendices
- Source references and validation chains
- Droid performance metrics
- Skill integration details
- Follow-up research recommendations
```
