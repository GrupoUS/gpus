import{j as s}from"./vendor-C0IzTJ68.js";import{C as o,e as r,a as c,B as i,c as n,al as l,t as m}from"./index-C8YxpUQT.js";import{aI as u}from"./ui-eQKuYNMj.js";import"./auth-CS6YH2iJ.js";import"./animation-oFsG5JPT.js";import"./forms-CH1lNzbM.js";import"./charts-CKNPyqfB.js";const x={trintae3:"TRINTAE3",otb:"OTB",black_neon:"Black Neon",comunidade:"Comunidade",auriculo:"Auriculo",na_mesa_certa:"Na Mesa Certa"},p={ativo:"Ativo",concluido:"Concluído",cancelado:"Cancelado",pausado:"Pausado",aguardando_inicio:"Aguardando Início"},h={ativo:"default",concluido:"default",cancelado:"destructive",pausado:"outline",aguardando_inicio:"secondary"},j={em_dia:"text-green-500",atrasado:"text-red-500",quitado:"text-primary",cancelado:"text-muted-foreground"};function N({enrollment:e,onClick:t}){const a=e.progress??0,d=e.paidInstallments??0;return s.jsxs(o,{className:r("transition-all hover:shadow-md",t&&"cursor-pointer hover:border-primary/50"),onClick:t,children:[s.jsxs(c,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:x[e.product]}),s.jsx(i,{variant:h[e.status],children:p[e.status]})]}),e.cohort&&s.jsxs("p",{className:"text-muted-foreground text-xs",children:["Turma: ",e.cohort]})]}),s.jsxs(n,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),s.jsxs("span",{className:"font-medium",children:[a,"%"]})]}),s.jsx(l,{className:"h-2",value:a}),e.modulesCompleted!==void 0&&e.totalModules&&s.jsxs("p",{className:"text-muted-foreground text-xs",children:[e.modulesCompleted," de"," ",e.totalModules," módulos"]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:"Pagamento"}),s.jsxs("p",{className:r("font-medium text-sm",j[e.paymentStatus??"em_dia"]),children:[d,"/",e.installments," parcelas"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-muted-foreground text-xs",children:"Valor Total"}),s.jsx("p",{className:"font-medium text-sm",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(e.totalValue??0))})]})]})]})]})}function _({studentId:e}){const{data:t}=m.enrollments.listByStudent.useQuery({studentId:e});return t?t.length===0?s.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[s.jsx(u,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),s.jsx("p",{children:"Nenhuma matrícula encontrada"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(a=>s.jsx(N,{enrollment:a},a.id))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3,4].map(a=>s.jsx("div",{className:"h-40 animate-pulse rounded-lg bg-muted/20"},a))})}export{_ as StudentEnrollmentsTab};
