import{j as s,L as c}from"./vendor-C0IzTJ68.js";import{t as m,C as i,c as n,S as a,B as d,an as o,p as x}from"./index-C8YxpUQT.js";import{aG as l,an as h}from"./ui-eQKuYNMj.js";import"./auth-CS6YH2iJ.js";import"./animation-oFsG5JPT.js";import"./forms-CH1lNzbM.js";import"./charts-CKNPyqfB.js";function y({studentId:p}){const{data:t}=m.conversations.list.useQuery({});if(!t)return s.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(e=>s.jsx(i,{children:s.jsx(n,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(a,{className:"h-4 w-24"}),s.jsx(a,{className:"h-3 w-32"})]}),s.jsxs("div",{className:"space-y-1 text-right",children:[s.jsx(a,{className:"ml-auto h-5 w-20"}),s.jsx(a,{className:"ml-auto h-3 w-16"})]})]})})},e))});const r=t.data;return r.length===0?s.jsxs("div",{className:"py-12 text-center text-muted-foreground",children:[s.jsx(l,{className:"mx-auto mb-4 h-12 w-12 opacity-50"}),s.jsx("p",{children:"Nenhuma conversa registrada"})]}):s.jsx("div",{className:"space-y-3",children:r.map(e=>s.jsx(c,{className:"block",search:{conversationId:e.id},to:"/chat",children:s.jsx(i,{className:"cursor-pointer transition-colors hover:bg-muted/50",children:s.jsx(n,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"flex items-center gap-2 font-medium text-sm",children:[e.channel==="whatsapp"&&s.jsx(l,{className:"h-4 w-4"}),e.department?.toUpperCase()??"N/A"]}),s.jsxs("p",{className:"mt-1 text-muted-foreground text-xs",children:["Canal: ",e.channel]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(d,{variant:e.status==="resolvido"?"default":"secondary",children:o[e.status]||e.status}),s.jsx("p",{className:"mt-1 text-muted-foreground text-xs",children:e.lastMessageAt?h(new Date(e.lastMessageAt),{addSuffix:!0,locale:x}):"Sem mensagens"})]})]})})})},e.id))})}export{y as StudentConversationsTab};
